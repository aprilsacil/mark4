<!--
  Generated template for the SellerAwardModalPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar cheers>
        <ion-title>Award Customer</ion-title>
        <ion-buttons end>
            <button (click)="dismiss()">
                <!-- <span primary showWhen="ios">Cancel</span>
                <ion-icon name="md-close" showWhen="android,windows"></ion-icon> -->
                <ion-icon name="close"></ion-icon>
            </button>
        </ion-buttons>
    </ion-navbar>
</ion-header>


<ion-content>
    <!-- Shopper Details -->
    <ion-card class="user-details">
        <ion-item>
            <ion-avatar class="avatar">
                <img src="img/default_avatar.jpg" *ngIf="!shopper.image">
                <img [src]="shopper.image" *ngIf="shopper.image">
            </ion-avatar>
            <div class="info">
                <h2 class="name">{{shopper.fullname}}</h2>
                <p class="work">
                    <span class="job-description" *ngIf="shopper.job_description">
                        {{shopper.job_description}}
                    </span>
                    <span *ngIf="shopper.job_description && shopper.company_name">@</span>
                    <span class="company" *ngIf="shopper.company_name">
                        {{shopper.company_name}}
                    </span>
                </p>
                <p class="stats">
                    <span class="level">
                        <ion-icon name="star" bright></ion-icon> 0
                    </span>
                    <span class="went-by">
                        <ion-icon name="refresh" cheers></ion-icon> 0
                    </span>
                    <span class="conversions">
                        <ion-icon name="cash" secondary></ion-icon> 0%
                    </span>
                </p>
                <p class="looking-for" *ngIf="shopper.looking_for">
                    <span class="label">Looking for:</span>
                    <span class="product">{{shopper.looking_for}}</span>
                </p>
            </div>
        </ion-item>
    </ion-card>
    <!-- End of Shopper Details -->

    <form
        class="padding-less-input"
        padding
        #awardCustomerForm="ngForm">
        <ion-item>
            <ion-input
                type="text"
                placeholder="What was purchased?"
                required
                [(ngModel)]="award.purchased_item"
                ngControl="purchasedItem"
                #purchasedItem="ngForm"></ion-input>

            <ion-icon
                name="checkmark-circle"
                item-right
                *ngIf="purchasedItem.touched && purchasedItem.valid"></ion-icon>
            <ion-icon
                name="close-circle"
                item-right
                *ngIf="purchasedItem.touched && !purchasedItem.valid"></ion-icon>
        </ion-item>

        <ion-item>
            <ion-input
                type="text"
                placeholder="How much was this?"
                required
                [(ngModel)]="award.price"
                ngControl="price"
                #price="ngForm"></ion-input>

            <ion-icon
                name="checkmark-circle"
                item-right
                *ngIf="price.touched && price.valid"></ion-icon>
            <ion-icon
                name="close-circle"
                item-right
                *ngIf="price.touched && !price.valid"></ion-icon>
        </ion-item>

        <ion-item>
            <ion-textarea
                placeholder="Send a Message to Customer"
                required
                [(ngModel)]="award.message"
                ngControl="message"
                #message="ngForm"></ion-textarea>

            <ion-icon
                name="checkmark-circle"
                item-right
                *ngIf="message.touched && message.valid"></ion-icon>
            <ion-icon
                name="close-circle"
                item-right
                *ngIf="message.touched && !message.valid"></ion-icon>
        </ion-item>
    </form>
</ion-content>

<ion-footer>
    <ion-toolbar cheers>
        <ion-buttons end>
            <button light outline
                [disabled]="!awardCustomerForm.valid"
                (click)="submitAwardCustomer(awardCustomerForm)">
                    Award Customer
                </button>
        </ion-buttons>
    </ion-toolbar>
</ion-footer>

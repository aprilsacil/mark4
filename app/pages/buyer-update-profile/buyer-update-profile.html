<!--
  Generated template for the BuyerUpdateProfilePage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar cheers>
        <ion-title>Update Information</ion-title>

        <ion-buttons end>
            <button (click)="saveProfileDetails(updateProfileForm)">
                Save
            </button>
        </ion-buttons>
    </ion-navbar>
</ion-header>

<ion-content>
    <form
        padding
        class="padding-less-input"
        #updateProfileForm="ngForm">
        <ion-item class="avatar-wrapper">
            <ion-avatar (click)="openTheCamera()">
                <ion-icon name="camera"></ion-icon>
                <img src="img/default_avatar.jpg" *ngIf="!user.image">
                <img [src]="user.image" *ngIf="user.image">
            </ion-avatar>

        </ion-item>

        <ion-item>
            <ion-label stacked>Name</ion-label>
            <ion-input
                type="text"
                placeholder="What's your name?"
                [(ngModel)]="user.fullname"
                required
                ngControl="buyerName"
                #buyerName="ngForm"></ion-input>

            <ion-icon
                name="checkmark-circle"
                item-right
                *ngIf="buyerName.touched && buyerName.valid"></ion-icon>
            <ion-icon
                name="close-circle"
                item-right
                *ngIf="buyerName.touched && !buyerName.valid"></ion-icon>
        </ion-item>

        <ion-item>
            <ion-label stacked>Job Description</ion-label>
            <ion-input
                type="text"
                placeholder="What's your job description?"
                [(ngModel)]="user.job_description"
                ngControl="jobDescription"
                #jobDescription="ngForm"></ion-input>

            <ion-icon
                name="checkmark-circle"
                item-right
                *ngIf="jobDescription.touched && jobDescription.valid"></ion-icon>
            <ion-icon
                name="close-circle"
                item-right
                *ngIf="jobDescription.touched && !jobDescription.valid"></ion-icon>
        </ion-item>

        <ion-item>
            <ion-label stacked>Company Name</ion-label>
            <ion-input
                type="text"
                placeholder="Where do you work?"
                [(ngModel)]="user.company_name"
                ngControl="companyName"
                #companyName="ngForm"></ion-input>

            <ion-icon
                name="checkmark-circle"
                item-right
                *ngIf="companyName.touched && companyName.valid"></ion-icon>
            <ion-icon
                name="close-circle"
                item-right
                *ngIf="companyName.touched && !companyName.valid"></ion-icon>
        </ion-item>
    </form>
</ion-content>

<ion-footer>
    <ion-toolbar>
        <button clear block (click)="logout()">Logout</button>
    </ion-toolbar>
</ion-footer>
